{"version":3,"sources":["webpack:///F:/wechatapp/mall/mall/main.js","webpack:///F:/wechatapp/mall/mall/pages/category/category.vue?06bc","webpack:///F:/wechatapp/mall/mall/pages/category/category.vue?86da","webpack:///F:/wechatapp/mall/mall/pages/category/category.vue?b66a","webpack:///F:/wechatapp/mall/mall/pages/category/category.vue?6339","webpack:///F:/wechatapp/mall/mall/pages/category/category.vue","webpack:///F:/wechatapp/mall/mall/pages/category/category.vue?018d","webpack:///F:/wechatapp/mall/mall/pages/category/category.vue?fd73"],"names":["createPage","Page","data","sizeCalcState","cateList","cateItemList","currentId","tabScrollTop","onLoad","loadData","methods","getCateList","getCateItemList","$api","getData","sort","a","b","pid","onCateClick","calcSize","then","index","findIndex","item","top","Promise","resolve","reject","h","forEach","view","uni","createSelectorQuery","select","fields","size","height","bottom","exec","rightAsideScroll","e","scrollTop","detail","tabs","filter","reverse","length"],"mappings":"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","file":"pages/category/category.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/category/category.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./category.vue?vue&type=template&id=4d3c6edc&\"\nvar renderjs\nimport script from \"./category.vue?vue&type=script&lang=js&\"\nexport * from \"./category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./category.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"wechatapp/mall/mall/pages/category/category.vue\"\nexport default component.exports","export * from \"-!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=template&id=4d3c6edc&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tsizeCalcState: false,\n\t\t\tcateList:[],\n\t\t\tcateItemList:[],\n\t\t\tcurrentId:1,\n\t\t\ttabScrollTop:null\n\t\t};\n\t},\n\t\n\tonLoad(){\n\t\tthis.loadData()\n\t},\n\t\n\tmethods:{\n\t\tloadData(){\n\t\t\tthis.getCateList();\n\t\t\tthis.getCateItemList()\n\t\t},\n\t\t\n\t\tasync getCateList(){\n\t\t\tconst cateList = await this.$api.getData('categoryList')\n\t\t\tthis.cateList = cateList\n\t\t},\n\t\t\n\t\tasync getCateItemList(){\n\t\t\tconst cateItemList = await this.$api.getData('categoryItemList')\n\t\t\tthis.cateItemList = cateItemList.sort((a,b) => a.pid - b.pid)\n\t\t},\n\t\t\n\t\tonCateClick(pid){\n\t\t\tif(!this.sizeCalcState){\n\t\t\t\tthis.calcSize().then(() => {\n\t\t\t\t\tthis.currentId = pid\n\t\t\t\t\tlet index = this.cateItemList.findIndex((item) => \n\t\t\t\t\t\titem.pid === pid\n\t\t\t\t\t)\n\t\t\t\t\tthis.tabScrollTop = this.cateItemList[index].top\n\t\t\t\t})\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.currentId = pid\n\t\t\tlet index = this.cateItemList.findIndex((item) => \n\t\t\t\titem.pid === pid\n\t\t\t)\n\t\t\tthis.tabScrollTop = this.cateItemList[index].top\n\t\t},\n\t\t\n\t\t//计算右侧栏每个tab的高度等信息\n\t\tcalcSize(){\n\t\t\treturn new Promise((resolve,reject) => {\n\t\t\t\tlet h = 0;\n\t\t\t\tthis.cateItemList.forEach(item=>{\n\t\t\t\t\tlet view = uni.createSelectorQuery().select(\"#item-\" + item.pid);\n\t\t\t\t\tview.fields({\n\t\t\t\t\t\tsize: true\n\t\t\t\t\t}, data => {\n\t\t\t\t\t\titem.top = h;\n\t\t\t\t\t\th += data.height;\n\t\t\t\t\t\titem.bottom = h;\n\t\t\t\t\t\t// resolve();\n\t\t\t\t\t}).exec(resolve);\n\t\t\t\t})\n\t\t\t\tthis.sizeCalcState = true;\n\t\t\t})\n\t\t},\n\t\t\n\t\trightAsideScroll(e){\n\t\t\tif(!this.sizeCalcState){\n\t\t\t\tthis.calcSize().then(() => {\n\t\t\t\t\tlet scrollTop = e.detail.scrollTop;\n\t\t\t\t\tlet tabs = this.cateItemList.filter(item=>item.top <= scrollTop).reverse();\n\t\t\t\t\tif(tabs.length > 0){\n\t\t\t\t\t\tthis.currentId = tabs[0].pid;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet scrollTop = e.detail.scrollTop;\n\t\t\tlet tabs = this.cateItemList.filter(item=>item.top <= scrollTop).reverse();\n\t\t\tif(tabs.length > 0){\n\t\t\t\tthis.currentId = tabs[0].pid;\n\t\t\t}\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1588003121392\n      var cssReload = require(\"F:/Hbuilder/HBuilderX.2.6.9.20200403.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}